# API для работы с ценами (тестовое задание)

## Установка среды разработки
* установить docker, php 8.1+, composer
* `git clone https://github.com/bsv-hub/se-test-task.git`
* запустить `make setup` (если установлен make)

> Если нет make, то в папке проекта нужно выполнить следующие команды
```bash
cp -n .env.example .env
composer install
vendor/bin/sail down
vendor/bin/sail up -d
vendor/bin/sail artisan migrate
vendor/bin/sail artisan db:seed
```

## Запуск тестов
```bash
make test
```

## Некоторые возможные улучшения
* можно использовать ресурсный раутинг
* можно ограничивать значение цены в модели
* можно сделать отдельные профили для dev и test базы, чтобы можно было с ними работать вместе
* использовать `artisan schema:dump` для ускорения миграций

## Условия задания
1. Создать 2 сущности
- Цены
    - guid цены (уникальный для каждой цены)
    - Цена
    - Товар (guid)
- Товары
    - Название
    - GUID (уникальный для каждого товара)

2. Реализовать фабрики и сидер для Цены и Товаров
3. Реализовать API
  -Метод /prices/ который получает все цены в json (В поле товар должен отдаваться GUID товара)
  -Метод prices/{product_guid} который принимает на вход json и обновляет цены указанного продукта
  (обновляет существующие, создаёт те которых нет в БД и деактивирует те, которых нет в запросе). 
На вход принимает json в формате
```json
{
    "prices": [
        {
           "guid": "54732483-cdbf-3b01-b964-17dd4b5a096a",
           "price": 79385.03
        },
        {
           "guid": "f3533b5a-a008-36bf-a7f2-574144e81acf",
           "price": 390848.23
        }
    ]
}
```

Условия: 
У одного товара может быть несколько цен
Цены должны быть не меньше 1 и не больше 500000
Количество товаров 10000
Количество цен у каждого товара 100
